<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Estudo Social Master v16</title>
    <style>.premium-tag {
    animation: fogoAzul 1s infinite alternate !important;
    color: var(--ouro) !important;
    text-shadow: 0 0 8px rgba(255, 215, 0, 0.6);
}
        /* Movimento suave de vai e vem para o texto "ID" */
.id-movimento {
    display: inline-block;
    animation: moverTexto 2s ease-in-out infinite;
}
/* Anima√ß√£o de fogo com pulso para o n√∫mero 22 */
.numero-fogo {
    display: inline-block;
    color: var(--azul-brilhante) !important;
    font-weight: bold;
    animation: fogoPulsante 0.6s infinite alternate;
}

@keyframes fogoPulsante {
    from { 
        text-shadow: 0 0 5px #00f, 0 0 10px #0ff;
        transform: scale(1);
    }
    to { 
        text-shadow: 0 0 15px #00f, 0 0 30px #0ff, 0 0 40px #00ffff;
        transform: scale(1.1); /* Faz o n√∫mero crescer levemente */
    }
}

@keyframes moverTexto {
    0%, 100% { transform: translateX(0); opacity: 0.8; }
    50% { transform: translateX(5px); opacity: 1; }
}

/* O n√∫mero 22 j√° usar√° a anima√ß√£o 'fire-name' ou 'fogoAzul' que voc√™ j√° tem */

        .linha-movimentada {
    background: linear-gradient(90deg, transparent, var(--ouro), transparent);
    background-size: 200% 100%;
    animation: movimentoLinha 2s linear infinite;
}
        :root {
            --preto: #000000; --azul-profundo: #001a33; --azul-brilhante: #1DA1F2;
            --msg-out: #004d99; --msg-in: #1a1a1a; --ouro: #ffd700; --vermelho: #ff3b3b;
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--preto); color: white; margin: 0; overflow: hidden; }

        /* ANIMA√á√ïES PREMIUM */
        @keyframes fogoAzul { from { text-shadow: 0 0 5px #00f, 0 0 10px #0ff; } to { text-shadow: 0 0 10px #0ff, 0 0 20px #00f; } }
        @keyframes fogoOuro { from { box-shadow: 0 0 10px #ff0; border: 1px solid #ff0; } to { box-shadow: 0 0 25px #f60; border: 1px solid #f60; } }
        .id-owner { animation: fogoAzul 0.5s infinite alternate; color: var(--azul-brilhante); font-weight: bold; }
        .premium-aura { animation: fogoOuro 0.6s infinite alternate !important; }
        .fire-name { animation: fogoAzul 0.4s infinite alternate; }

        .win { display: none; position: fixed; inset: 0; background: var(--preto); flex-direction: column; z-index: 2000; }
        .win-small { height: 80%; top: 10%; border-radius: 20px; border: 1px solid #333; overflow-y: auto; }
        .btn-v { position: absolute; top: 15px; right: 15px; background: var(--vermelho); color: white; border: none; border-radius: 5px; width: 30px; height: 30px; cursor: pointer; z-index: 3000; }
        
        .mat-item { background: #111; padding: 15px; margin: 8px 0; border-radius: 10px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #222; }
        .float-btn { position: fixed; bottom: 20px; right: 20px; width: 60px; height: 60px; background: rgba(29, 161, 242, 0.3); border: 1px solid var(--azul-brilhante); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; cursor: pointer; z-index: 1000; backdrop-filter: blur(5px); }
    </style>
</head>
<body onload="initApp()">

    <div id="screen-home" style="padding: 20px; height: 100vh; overflow-y: auto;">
        <div style="display:flex; justify-content: space-between; align-items: center;">
            <h1 style="margin:0; font-size:22px; color:var(--azul-brilhante)">Estudo Social</h1>
            <div onclick="openWin('win-profile')" style="cursor:pointer; display: flex; align-items: center; gap: 10px; background: rgba(255,255,255,0.05); padding: 5px 12px; border-radius: 20px; border: 1px solid #222;">
    <span id="top-username" style="font-size: 14px; font-weight: bold; color: white;">@Usuario</span>
    <img id="top-pfp" src="https://via.placeholder.com/40" style="width:35px; height:35px; border-radius:50%; border:1px solid var(--azul-brilhante); object-fit: cover;">
</div>

        </div>

        <h3 style="color:var(--azul-brilhante); margin-top:20px;">Mat√©rias</h3>
        <div id="mat-list"></div>

        <h3 style="margin-top:25px; color:var(--azul-brilhante)">Grupos</h3>
        <div id="group-list"></div>
    </div>

    <div id="win-profile" class="win win-small">
        <button class="btn-v" onclick="closeWin('win-profile')">X</button>
        <div id="p-banner" onclick="triggerFile('in-banner')" style="width:100%; height:130px; background:#111; background-size:cover; cursor:pointer; background-position: center;"></div>
        <center>
               <div style="display: flex; align-items: center; width: 90%; margin: 15px 0;">
        <div class="linha-movimentada" style="flex: 1; height: 2px;"></div>
        <span class="premium-tag" style="padding: 0 15px; font-size: 10px; font-weight: bold; letter-spacing: 2px;">OP√á√ÉO PREMIUM</span>
        <div class="linha-movimentada" style="flex: 1; height: 2px;"></div>
    </div>

    <div style="position:relative; width:90px; margin-top: 10px;">
        <span id="p-crown" style="position:absolute; top:-15px; left:50%; transform:translateX(-50%); font-size:25px; display:none; z-index:10;">üëë</span>
        <img id="p-img" src="https://via.placeholder.com/90" style="width:90px; height:90px; border-radius:50%; border:3px solid var(--azul-brilhante); cursor:pointer; object-fit: cover;" onclick="triggerFile('in-pfp')">
    </div>

    <div style="margin: 10px 0;">
    <h2 id="p-name" onclick="editName()" style="margin: 0; cursor:pointer; display: inline-block;">@Usuario</h2>
    
    <div style="margin-top: 5px; font-size: 14px; font-weight: bold;">
        <span class="id-movimento" style="color: white;">ID ‚Äî </span>
        <span class="numero-fogo" style="font-size: 18px;">22</span>
    </div>
</div>

<div style="background: rgba(255,255,255,0.05); padding: 10px; border-radius: 8px; width: 85%; margin: 10px auto; border-left: 3px solid var(--azul-brilhante);">
    <small style="color: #666; display: block; font-size: 9px; text-align: left; margin-bottom: 3px;">BIO</small>
    <p style="margin: 0; font-size: 13px; color: #ddd; font-style: italic;">Fundador do Site Estudo Social</p>
</div>


    <div id="status-box" style="margin-bottom: 15px;">
        <div style="display: flex; align-items: center; justify-content: center; gap: 8px;">
            <span id="status-dot" style="width: 10px; height: 10px; border-radius: 50%; background: #00ff00;"></span>
            <span id="status-text" style="font-weight: bold; color: #00ff00;">Online</span>
        </div>
        <div style="color: white; font-size: 11px; margin-top: 4px;">
            visto por √∫ltimo hoje √†s <span id="last-time" style="color: white;">--:--</span>
        </div>
    </div>

    <div style="display: flex; gap: 5px; padding: 0 20px 15px 20px;">
        <button onclick="setStatus('online')" style="flex:1; background:#004400; color:#0f0; border:1px solid #0f0; padding:8px; border-radius:5px; font-size:10px; cursor:pointer;">FICAR ONLINE</button>
        <button onclick="setStatus('offline')" style="flex:1; background:#440000; color:#f00; border:1px solid #f00; padding:8px; border-radius:5px; font-size:10px; cursor:pointer;">FICAR OFFLINE</button>
    </div>
    
    <button id="btn-premium" onclick="buyPremium()" style="width:85%; background:var(--ouro); color:black; font-weight:bold; border:none; padding:12px; border-radius:8px; cursor:pointer;">OBTER PREMIUM üëë</button>
      
    </div>
    <div style="position:relative; width:90px; margin-top: 10px;">

                <span id="p-crown" style="position:absolute; top:-15px; left:50%; transform:translateX(-50%); font-size:25px; display:none;">üëë</span>
                <img id="p-img" src="https://via.placeholder.com/90" style="width:90px; height:90px; border-radius:50%; border:3px solid var(--azul-brilhante); cursor:pointer; object-fit: cover;" onclick="triggerFile('in-pfp')">
            </div>
            <h2 id="p-name" onclick="editName()" style="margin:10px 0; cursor:pointer;">@Usuario</h2>
            
            <div id="status-box" style="margin-bottom: 15px;">
                <div style="display: flex; align-items: center; justify-content: center; gap: 8px;">
                    <span id="status-dot" style="width: 10px; height: 10px; border-radius: 50%; background: #00ff00;"></span>
                    <span id="status-text" style="font-weight: bold; color: #00ff00;">Online</span>
                </div>
                <div style="color: white; font-size: 11px; margin-top: 4px;">
                    visto por √∫ltimo hoje √†s <span id="last-time" style="color: white;">--:--</span>
                </div>
            </div>

            <div style="display: flex; gap: 5px; padding: 0 20px 15px 20px;">
                <button onclick="setStatus('online')" style="flex:1; background:#004400; color:#0f0; border:1px solid #0f0; padding:8px; border-radius:5px; font-size:10px; cursor:pointer;">FICAR ONLINE</button>
                <button onclick="setStatus('offline')" style="flex:1; background:#440000; color:#f00; border:1px solid #f00; padding:8px; border-radius:5px; font-size:10px; cursor:pointer;">FICAR OFFLINE</button>
            </div>
            
            <button id="btn-premium" onclick="buyPremium()" style="width:80%; background:var(--ouro); color:black; font-weight:bold; border:none; padding:12px; border-radius:8px; cursor:pointer;">OBTER PREMIUM üëë</button>
            <br><br>
            <button onclick="clearCache()" style="color:var(--vermelho); background:none; border:none; font-size:12px; cursor:pointer;">Limpar Tudo</button>
        </center>
    </div>

    <input type="file" id="in-pfp" hidden onchange="readImg(this, 'p-img', 'user_pfp')">
    <input type="file" id="in-banner" hidden onchange="readImg(this, 'p-banner', 'user_banner')">

    <script>
        
        function initApp() {
            renderMats();
            renderGroups();
            loadProfile(); // Carrega fotos e nome
            loadStatus();  // Carrega status e hor√°rio
        }

        // CARREGA NOME E FOTOS SALVAS
        function loadProfile() {
    const savedName = localStorage.getItem('user_name') || '@Usuario';
    const savedPfp = localStorage.getItem('user_pfp') || 'https://via.placeholder.com/90';
    const savedBanner = localStorage.getItem('user_banner') || '';
    const isPremium = localStorage.getItem('is_premium') === 'true';

    // Atualiza o nome nos dois lugares (Perfil e Topo)
    if(document.getElementById('p-name')) document.getElementById('p-name').innerText = savedName;
    if(document.getElementById('top-username')) document.getElementById('top-username').innerText = savedName;

    // Atualiza a foto nos dois lugares
    if(document.getElementById('p-img')) document.getElementById('p-img').src = savedPfp;
    if(document.getElementById('top-pfp')) document.getElementById('top-pfp').src = savedPfp;

    // Atualiza o Banner
    if(savedBanner && document.getElementById('p-banner')) {
        document.getElementById('p-banner').style.backgroundImage = `url(${savedBanner})`;
    }
    
    // Se for Premium, aplica os estilos
    if(isPremium) {
        if(document.getElementById('p-crown')) document.getElementById('p-crown').style.display = 'block';
        if(document.getElementById('p-img')) document.getElementById('p-img').style.border = "3px solid var(--ouro)";
        if(document.getElementById('top-username')) document.getElementById('top-username').style.color = "var(--ouro)";
    }
}


        function editName() {
    // Puxa o nome atual para mostrar na caixa de digita√ß√£o
    let nomeAtual = document.getElementById('p-name').innerText;
    let novoNome = prompt("Digite seu novo nome de usu√°rio:", nomeAtual);
    
    // Se o usu√°rio digitou algo e n√£o cancelou
    if(novoNome && novoNome.trim() !== "") {
        // 1. Atualiza no perfil (dentro da configura√ß√£o)
        document.getElementById('p-name').innerText = novoNome;
        
        // 2. Atualiza no topo (canto superior direito)
        if(document.getElementById('top-username')) {
            document.getElementById('top-username').innerText = novoNome;
        }
        
        // 3. Salva no navegador para n√£o sumir ao atualizar
        localStorage.setItem('user_name', novoNome);
    }
}


        // SISTEMA DE STATUS (VERDE/VERMELHO)
        function setStatus(estado) {
            const dot = document.getElementById('status-dot');
            const text = document.getElementById('status-text');
            const timeSpan = document.getElementById('last-time');
            const agora = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});

            if (estado === 'online') {
                dot.style.background = '#00ff00';
                text.innerText = 'Online';
                text.style.color = '#00ff00';
                localStorage.setItem('user_status', 'online');
            } else {
                dot.style.background = '#ff3b3b';
                text.innerText = 'Offline';
                text.style.color = '#ff3b3b';
                localStorage.setItem('user_status', 'offline');
            }
            timeSpan.innerText = agora;
            localStorage.setItem('last_seen_time', agora);
        }

        function loadStatus() {
            const statusSalvo = localStorage.getItem('user_status') || 'online';
            const horaSalva = localStorage.getItem('last_seen_time') || '--:--';
            setStatus(statusSalvo);
            document.getElementById('last-time').innerText = horaSalva;
        }

        function renderMats() {
            const container = document.getElementById('mat-list');
            const mats = ['Matem√°tica', 'Ingl√™s', 'Hist√≥ria', 'Geografia', 'Reda√ß√£o'];
            container.innerHTML = mats.map(m => `
                <div class="mat-item">
                    <span>${m}</span>
                    <span style="color:var(--azul-brilhante)">üìö</span>
                </div>`).join('');
        }

        function renderGroups() {
            document.getElementById('group-list').innerHTML = `
                <div style="background:#111; padding:15px; border-radius:12px; border:1px solid #222;">
                    <b>Comunidade Geral</b><br><small>22 membros online</small>
                </div>`;
        }

        function readImg(input, targetId, storageKey) {
            if(input.files[0]) {
                let reader = new FileReader();
                reader.onload = (e) => {
                    if(targetId === 'p-banner') document.getElementById(targetId).style.backgroundImage = `url(${e.target.result})`;
                    else {
                        document.getElementById(targetId).src = e.target.result;
                        document.getElementById('top-pfp').src = e.target.result;
                    }
                    localStorage.setItem(storageKey, e.target.result);
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function buyPremium() {
            localStorage.setItem('is_premium', 'true');
            location.reload();
        }

        function openWin(id) { document.getElementById(id).style.display = 'flex'; }
        function closeWin(id) { document.getElementById(id).style.display = 'none'; }
        function triggerFile(id) { document.getElementById(id).click(); }
        function clearCache() { if(confirm("Limpar tudo?")) { localStorage.clear(); location.reload(); } }
    </script>
    <div id="plus-menu" class="plus-menu">
    <div class="plus-option" onclick="alert('Fun√ß√£o Criar Grupo em breve!'); togglePlus()">üë• Criar Grupo</div>
    <div class="plus-option" onclick="openWin('win-profile'); togglePlus()">‚öôÔ∏è Configura√ß√µes</div>
</div>

<button class="btn-plus" onclick="togglePlus()" id="main-plus">+</button>

<script>
        <div id="plus-menu" class="plus-menu">
        <div class="plus-option" onclick="alert('Fun√ß√£o Criar Grupo em breve!'); togglePlus()">üë• Criar Grupo</div>
        <div class="plus-option" onclick="openWin('win-profile'); togglePlus()">‚öôÔ∏è Configura√ß√µes</div>
    </div>
    <button class="btn-plus" onclick="togglePlus()" id="main-plus">+</button>

    <script>
        // O C√ìDIGO 3 (a fun√ß√£o togglePlus) deve estar aqui dentro!
        function togglePlus() {
            const menu = document.getElementById('plus-menu');
            const btn = document.getElementById('main-plus');
            if (menu.style.display === 'flex') {
                menu.style.display = 'none';
                btn.style.transform = 'rotate(0deg)';
                btn.style.background = 'var(--azul-brilhante)';
            } else {
                menu.style.display = 'flex';
                btn.style.transform = 'rotate(45deg)';
                btn.style.background = 'var(--vermelho)';
            }
        }
        
        // ... outras fun√ß√µes como initApp, loadProfile ...
    <script>
// Esta fun√ß√£o faz o menu aparecer/desaparecer e o bot√£o girar
function togglePlus() {
    const menu = document.getElementById('plus-menu');
    const btn = document.getElementById('main-plus');
    
    // Verifica se o menu est√° vis√≠vel
    if (menu.style.display === 'flex') {
        menu.style.display = 'none';
        btn.style.transform = 'rotate(0deg)';
        btn.style.background = 'var(--azul-brilhante)'; // Volta a ser azul
    } else {
        menu.style.display = 'flex';
        btn.style.transform = 'rotate(45deg)'; // Vira um X
        btn.style.background = '#ff4444'; // Fica vermelho
    }
}
</script>

    <style>
    .botao-central {
        position: fixed !important; bottom: 30px !important; right: 30px !important;
        width: 60px; height: 60px; background: #007bff; color: white;
        border-radius: 50%; border: none; font-size: 35px; cursor: pointer;
        z-index: 99999; transition: all 0.3s ease; box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        display: flex; align-items: center; justify-content: center;
    }
    .menu-central {
        position: fixed !important; bottom: 100px !important; right: 30px !important;
        display: none; flex-direction: column; gap: 12px; z-index: 99999;
    }
    .item-menu {
        background: #111; color: white; border: 2px solid #007bff;
        padding: 12px 25px; border-radius: 30px; font-size: 14px;
        cursor: pointer; text-align: right; box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        font-weight: bold;
    }
</script>

    <div id="win-criar-grupo-v2" style="display: none; width: 340px; height: 200px; top: 50%; left: 50%; transform: translate(-50%, -50%); position: fixed; z-index: 999999; background: #121212; border: 2px solid #007bff; border-radius: 20px; padding: 25px; box-shadow: 0 0 30px rgba(0,0,0,1); font-family: sans-serif;">
    
    <button onclick="document.getElementById('win-criar-grupo-v2').style.display='none'" style="position: absolute; right: 15px; top: 10px; background: none; border: none; color: #666; font-size: 22px; cursor: pointer;">&times;</button>
    
    <h3 style="color: white; margin-top: 0; margin-bottom: 25px;">Criar Grupo</h3>

    <div style="display: flex; gap: 15px; align-items: center; position: relative;">
        <div onclick="alert('Selecionar foto...')" style="width: 70px; height: 70px; border-radius: 50%; background: #1e1e1e; border: 2px dashed #007bff; display: flex; align-items: center; justify-content: center; cursor: pointer; color: #007bff; flex-shrink: 0;">
            <span style="font-size: 24px;">üì∑</span>
        </div>
        
        <input type="text" placeholder="Nome do grupo..." style="flex: 1; height: 45px; background: #1e1e1e; border: 1px solid #333; color: white; padding: 0 15px; border-radius: 12px; outline: none; font-size: 16px;">
    </div>

    <button onclick="alert('Grupo criado!'); document.getElementById('win-criar-grupo-v2').style.display='none'" style="position: absolute; bottom: -25px; right: 20px; width: 60px; height: 60px; background: #007bff; color: white; border-radius: 50%; border: 4px solid #121212; font-size: 25px; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,123,255,0.5);">
        ‚úÖ
    </button>
</div>

    <style>
    /* Estilos do Bot√£o e Menu */
    .botao-flutuante { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: #007bff; color: white; border-radius: 50%; border: none; font-size: 30px; cursor: pointer; z-index: 999999; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,0,0,0.5); transition: 0.3s; }
    .menu-opcoes { position: fixed; bottom: 100px; right: 30px; display: none; flex-direction: column; gap: 10px; z-index: 999999; }
    .opcao-item { background: #1a1a1a; color: white; border: 1px solid #007bff; padding: 12px 20px; border-radius: 25px; font-size: 14px; cursor: pointer; text-align: right; }
    
    /* Janela de Criar Grupo */
    .janela-grupo { display: none; width: 340px; top: 50%; left: 50%; transform: translate(-50%, -50%); position: fixed; z-index: 1000000; background: #121212; border: 2px solid #007bff; border-radius: 20px; padding: 25px; box-shadow: 0 0 30px rgba(0,0,0,1); font-family: sans-serif; }
    
    /* Bot√£o ‚úÖ Redondo e Azul */
    .btn-check-azul { position: absolute; bottom: -25px; right: 20px; width: 60px; height: 60px; background: #007bff; color: white; border-radius: 50%; border: 4px solid #121212; font-size: 25px; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,123,255,0.6); }
</style>

<script>
function toggleMenuGeral() {
    var menu = document.getElementById('menuPrincipal');
    var btn = document.getElementById('btnPrincipal');
    if (menu.style.display === 'flex') {
        fecharMenuGeral();
    } else {
        menu.style.display = 'flex';
        btn.style.transform = 'rotate(45deg)';
        btn.style.background = '#ff4444';
    }
}

function fecharMenuGeral() {
    document.getElementById('menuPrincipal').style.display = 'none';
    var btn = document.getElementById('btnPrincipal');
    if(btn) {
        btn.style.transform = 'rotate(0deg)';
        btn.style.background = '#007bff';
    }
}

function abrirJanelaGrupo() {
    var janela = document.getElementById('janelaCriar');
    if(janela) {
        janela.style.display = 'block';
        fecharMenuGeral();
    }
}

function fecharJanelaGrupo() {
    var janela = document.getElementById('janelaCriar');
    if(janela) {
        janela.style.display = 'none';
    }
} // AQUI ESTAVA O ERRO, AGORA EST√Å FECHADO!
</script>
<style>
    /* Bot√£o flutuante + */
    .btn-abrir-principal {
        position: fixed !important; bottom: 30px !important; right: 30px !important;
        width: 60px; height: 60px; background: #007bff !important; color: white !important;
        border-radius: 50% !important; border: none !important; font-size: 30px !important;
        cursor: pointer !important; z-index: 999999 !important; display: flex !important;
        align-items: center !important; justify-content: center !important;
        box-shadow: 0 4px 15px rgba(0,0,0,0.5) !important; transition: 0.3s;
    }

    /* Menu que sobe */
    .menu-suspenso {
        position: fixed !important; bottom: 100px !important; right: 30px !important;
        display: none; flex-direction: column; gap: 10px; z-index: 999999 !important;
    }
    .item-menu-p {
        background: #1a1a1a; color: white; border: 1px solid #007bff;
        padding: 12px 20px; border-radius: 25px; font-size: 14px;
        cursor: pointer; text-align: right; font-family: sans-serif;
    }

    /* A Janela que voc√™ mandou (Estilizada) */
    .janela-grupo-v3 {
        display: none; width: 340px; top: 50%; left: 50%; transform: translate(-50%, -50%);
        position: fixed !important; z-index: 1000000 !important; background: #121212;
        border: 2px solid #007bff; border-radius: 20px; padding: 25px;
        box-shadow: 0 0 30px #000; font-family: sans-serif;
    }

    /* O Bot√£o ‚úÖ Redondo e Azul que voc√™ pediu */
    .btn-check-azul {
        position: absolute !important; bottom: -25px !important; right: 20px !important;
        width: 60px; height: 60px; background: #007bff !important; color: white !important;
        border-radius: 50% !important; border: 4px solid #121212 !important;
        font-size: 25px !important; cursor: pointer !important; display: flex !important;
        align-items: center !important; justify-content: center !important;
        box-shadow: 0 4px 15px rgba(0,123,255,0.6) !important;
    }
</style>

<div id="meuMenuOpcoes" class="menu-suspenso">
    <div class="item-menu-p" onclick="abrirJanela()">üë• Criar Grupo</div>
    <div class="item-menu-p" onclick="openWin('win-profile'); toggleMenu()">‚öôÔ∏è Configura√ß√µes</div>
</div>

<button id="meuBotaoPrincipal" class="btn-abrir-principal" onclick="toggleMenu()">+</button>

<div id="janelaCriarGrupo" class="janela-grupo-v3">
    <button onclick="fecharJanela()" style="position: absolute; right: 15px; top: 10px; background: none; border: none; color: #666; font-size: 22px; cursor: pointer;">&times;</button>
    <h3 style="color: white; margin-top: 0;">Criar Grupo</h3>
    <div style="display: flex; gap: 15px; align-items: center;">
        <div onclick="alert('Escolher foto...')" style="width: 70px; height: 70px; border-radius: 50%; background: #1e1e1e; border: 2px dashed #007bff; display: flex; align-items: center; justify-content: center; cursor: pointer; color: #007bff;"><span style="font-size: 24px;">üì∑</span></div>
        <input type="text" placeholder="Nome do grupo..." style="flex: 1; height: 45px; background: #1e1e1e; border: 1px solid #333; color: white; padding: 0 15px; border-radius: 12px; outline: none;">
    </div>
    <button class="btn-check-azul" onclick="alert('Grupo Criado!'); fecharJanela()">‚úÖ</button>
</div>

<script>
function toggleMenu() {
    var m = document.getElementById('meuMenuOpcoes');
    var b = document.getElementById('meuBotaoPrincipal');
    if (m.style.display === 'flex') {
        m.style.display = 'none';
        b.style.transform = 'rotate(0deg)';
        b.style.background = '#007bff';
    } else {
        m.style.display = 'flex';
        b.style.transform = 'rotate(45deg)';
        b.style.background = '#ff4444';
    }
}

function abrirJanela() {
    document.getElementById('janelaCriarGrupo').style.display = 'block';
    document.getElementById('meuMenuOpcoes').style.display = 'none';
}

function fecharJanela() {
    document.getElementById('janelaCriarGrupo').style.display = 'none';
    var b = document.getElementById('meuBotaoPrincipal');
    b.style.transform = 'rotate(0deg)';
    b.style.background = '#007bff';
}
</script>
<style>
    .botao-flutuante { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: #007bff; color: white; border-radius: 50%; border: none; font-size: 30px; cursor: pointer; z-index: 999999; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,0,0,0.5); transition: 0.3s; }
    .menu-opcoes { position: fixed; bottom: 100px; right: 30px; display: none; flex-direction: column; gap: 10px; z-index: 999999; }
    .opcao-item { background: #1a1a1a; color: white; border: 1px solid #007bff; padding: 12px 20px; border-radius: 25px; font-size: 14px; cursor: pointer; text-align: right; font-family: sans-serif; }
    
    /* Janela de Criar Grupo */
    .janela-grupo { display: none; width: 340px; top: 50%; left: 50%; transform: translate(-50%, -50%); position: fixed; z-index: 1000000; background: #121212; border: 2px solid #007bff; border-radius: 20px; padding: 25px; box-shadow: 0 0 30px #000; font-family: sans-serif; }
    
    /* Bot√£o ‚úÖ Redondo e Azul Flutuante */
    .btn-check-azul { position: absolute; bottom: -25px; right: 20px; width: 60px; height: 60px; background: #007bff; color: white; border-radius: 50%; border: 4px solid #121212; font-size: 25px; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,123,255,0.6); }
</style>

<div id="menuPrincipal" class="menu-opcoes">
    <div class="opcao-item" onclick="abrirJanelaGrupo()">üë• Criar Grupo</div>
    <div class="opcao-item" onclick="openWin('win-profile'); fecharMenuGeral()">‚öôÔ∏è Configura√ß√µes</div>
</div>

<button id="btnPrincipal" class="botao-flutuante" onclick="toggleMenuGeral()">+</button>

<div id="janelaCriar" class="janela-grupo">
    <button onclick="fecharJanelaGrupo()" style="position: absolute; right: 15px; top: 10px; background: none; border: none; color: #666; font-size: 22px; cursor: pointer;">&times;</button>
    <h3 style="color: white; margin-top: 0;">Criar Grupo</h3>
    <div style="display: flex; gap: 15px; align-items: center;">
         <div style="position: relative; width: 80px; height: 80px; flex-shrink: 0;">
    <input type="file" id="input-foto-grupo" accept="image/*" style="display: none;" onchange="previewFoto(this)">
    <div onclick="document.getElementById('input-foto-grupo').click()" id="moldura-foto" style="width: 80px; height: 80px; border-radius: 50%; background: #1e1e1e; border: 2px dashed #007bff; display: flex; align-items: center; justify-content: center; cursor: pointer; overflow: hidden;">
        <span id="icone-camera" style="font-size: 28px; color: #007bff;">üì∑</span>
        <img id="foto-preview" src="" style="display: none; width: 100%; height: 100%; object-fit: cover;">
    </div>
</div>
<style>
    .botao-flutuante { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: #007bff; color: white; border-radius: 50%; border: none; font-size: 30px; cursor: pointer; z-index: 999999; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,0,0,0.5); transition: 0.3s; }
    .menu-opcoes { position: fixed; bottom: 100px; right: 30px; display: none; flex-direction: column; gap: 10px; z-index: 999999; }
    .opcao-item { background: #1a1a1a; color: white; border: 1px solid #007bff; padding: 12px 20px; border-radius: 25px; font-size: 14px; cursor: pointer; text-align: right; font-family: sans-serif; }
    
    /* Janela de Criar Grupo */
    .janela-grupo { display: none; width: 340px; top: 50%; left: 50%; transform: translate(-50%, -50%); position: fixed; z-index: 1000000; background: #121212; border: 2px solid #007bff; border-radius: 20px; padding: 25px; box-shadow: 0 0 30px #000; font-family: sans-serif; }
    
    /* Bot√£o ‚úÖ Redondo e Azul Flutuante */
    .btn-check-azul { position: absolute; bottom: -25px; right: 20px; width: 60px; height: 60px; background: #007bff; color: white; border-radius: 50%; border: 4px solid #121212; font-size: 25px; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,123,255,0.6); }
</style>

<div id="menuPrincipal" class="menu-opcoes">
    <div class="opcao-item" onclick="abrirJanelaGrupo()">üë• Criar Grupo</div>
    <div class="opcao-item" onclick="openWin('win-profile'); fecharMenuGeral()">‚öôÔ∏è Configura√ß√µes</div>
</div>

<button id="btnPrincipal" class="botao-flutuante" onclick="toggleMenuGeral()">+</button>

<div id="janelaCriar" class="janela-grupo">
    <button onclick="fecharJanelaGrupo()" style="position: absolute; right: 15px; top: 10px; background: none; border: none; color: #666; font-size: 22px; cursor: pointer;">&times;</button>
    <h3 style="color: white; margin-top: 0;">Criar Grupo</h3>
    <div style="display: flex; gap: 15px; align-items: center;">
        <div onclick="alert('Escolher foto...')" style="width: 70px; height: 70px; border-radius: 50%; background: #1e1e1e; border: 2px dashed #007bff; display: flex; align-items: center; justify-content: center; cursor: pointer; color: #007bff;"><span style="font-size: 24px;">üì∑</span></div>
        <input type="text" placeholder="Nome do grupo..." style="flex: 1; height: 45px; background: #1e1e1e; border: 1px solid #333; color: white; padding: 0 15px; border-radius: 12px; outline: none; color: white;">
    </div>
    <button class="btn-check-azul" onclick="alert('Grupo Criado!'); fecharJanelaGrupo()">‚úÖ</button>
</div>

<script>
function toggleMenuGeral() {
    var menu = document.getElementById('menuPrincipal');
    var btn = document.getElementById('btnPrincipal');
    if (menu.style.display === 'flex') {
        fecharMenuGeral();
    } else {
        menu.style.display = 'flex';
        btn.style.transform = 'rotate(45deg)';
        btn.style.background = '#ff4444';
    }
}

function fecharMenuGeral() {
    document.getElementById('menuPrincipal').style.display = 'none';
    var btn = document.getElementById('btnPrincipal');
    btn.style.transform = 'rotate(0deg)';
    btn.style.background = '#007bff';
}

function abrirJanelaGrupo() {
    document.getElementById('janelaCriar').style.display = 'block';
    fecharMenuGeral();
}

function fecharJanelaGrupo() {
    document.getElementById('janelaCriar').style.display = 'none';
}
</script>

        <input type="text" placeholder="Nome do grupo..." style="flex: 1; height: 45px; background: #1e1e1e; border: 1px solid #333; color: white; padding: 0 15px; border-radius: 12px; outline: none; color: white;">
    </div>
    <button class="btn-check-azul" onclick="alert('Grupo Criado!'); fecharJanelaGrupo()">‚úÖ</button>
</div>

<script>
function toggleMenuGeral() {
    var menu = document.getElementById('menuPrincipal');
    var btn = document.getElementById('btnPrincipal');
    if (menu.style.display === 'flex') {
        fecharMenuGeral();
    } else {
        menu.style.display = 'flex';
        btn.style.transform = 'rotate(45deg)';
        btn.style.background = '#ff4444';
    }
}

function fecharMenuGeral() {
    document.getElementById('menuPrincipal').style.display = 'none';
    var btn = document.getElementById('btnPrincipal');
    btn.style.transform = 'rotate(0deg)';
    btn.style.background = '#007bff';
}

function abrirJanelaGrupo() {
    document.getElementById('janelaCriar').style.display = 'block';
    fecharMenuGeral();
}

function fecharJanelaGrupo() {
    document.getElementById('janelaCriar').style.display = 'none';
}
    function previewFoto(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        
        reader.onload = function(e) {
            var img = document.getElementById('foto-preview');
            var icone = document.getElementById('icone-camera');
            var moldura = document.getElementById('moldura-foto');
            
            img.src = e.target.result;
            img.style.display = 'block';
            icone.style.display = 'none';
            moldura.style.borderStyle = 'solid'; // Muda de tracejado para linha firme
        }
        
        reader.readAsDataURL(input.files[0]);
    }
}

</script>

</body>
</html>
