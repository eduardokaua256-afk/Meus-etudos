<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estudos Social Ultimate</title>
    <style>
        :root { --preto: #000000; --branco: #ffffff; --azul: #1DA1F2; --ouro: #ffd700; --dono: #ff4757; --adm: #00ffcc; --bg-chat: #0a0a0a; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--preto); color: var(--branco); margin: 0; padding: 0; overflow-x: hidden; }

        /* Aba Principal - Mat√©rias */
        .materias-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 20px; }
        .materia-card { background: #16181c; padding: 15px; border-radius: 12px; border: 1px solid #333; text-align: center; }

        /* Janela de Chat Premium */
        .window { display: none; position: fixed; top: 5%; left: 2%; right: 2%; bottom: 5%; background: var(--branco); color: #000; border-radius: 20px; flex-direction: column; z-index: 2000; overflow: hidden; }
        .win-header { background: var(--preto); color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--azul); }
        
        /* Perfil X-Style */
        .x-banner { height: 120px; background: var(--azul); background-size: cover; cursor: pointer; }
        .x-pfp-large { width: 90px; height: 90px; border-radius: 50%; border: 4px solid var(--preto); margin-top: -45px; margin-left: 15px; position: relative; }
        .status-dot { width: 15px; height: 15px; border-radius: 50%; display: inline-block; }
        .crown-max { position: absolute; top: -25px; left: 15px; font-size: 40px; display: none; filter: drop-shadow(0 0 5px gold); }

        /* Chat Preto e Azul */
        .chat-area { flex: 1; overflow-y: auto; background: var(--bg-chat); padding: 10px; color: white; }
        .chat-banner { height: 60px; background: rgba(29, 161, 242, 0.2); margin-bottom: 10px; border-radius: 10px; }
        .msg-bubble { background: #1a1a1a; border-left: 4px solid var(--azul); padding: 10px; margin: 5px 0; border-radius: 0 15px 15px 15px; color: white; }

        /* Widgets Maiores */
        .calc-full { width: 100%; height: 100%; background: #000; color: #fff; padding: 20px; display: none; position: fixed; top: 0; z-index: 4000; }
        .search-glass { width: 90%; background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); position: fixed; top: 20px; left: 5%; padding: 15px; border-radius: 30px; display: none; z-index: 4000; border: 1px solid rgba(255,255,255,0.3); }

        /* Premium Effects */
        .fire-name { font-weight: bold; background: linear-gradient(0deg, #ff4500, #ff8c00); -webkit-background-clip: text; color: transparent; animation: flicker 0.5s infinite; }
        @keyframes flicker { 0% { opacity: 0.9; } 100% { opacity: 1; text-shadow: 0 0 10px red; } }
        
        .typing { font-size: 12px; color: var(--azul); font-style: italic; margin-left: 10px; }
        .btn-round { width: 50px; height: 50px; border-radius: 50%; background: var(--azul); border: none; color: white; font-size: 20px; }
    </style>
</head>
<body>

    <header style="padding: 20px; border-bottom: 1px solid #333; display: flex; justify-content: space-between;">
        <div onclick="showMaterias()">
            <strong style="font-size: 22px; color: var(--azul);">Estudo Social</strong>
            <div id="status-user"><span class="status-dot" style="background: lime;"></span> Online | ID: 22</div>
        </div>
        <div onclick="openWindow('win-profile')" style="font-size: 24px;">‚ãÆ</div>
    </header>

    <div id="area-materias" class="materias-grid">
        <div class="materia-card">
            <h3>Matem√°tica</h3>
            <button onclick="alert('Playlist Youtube: Matem√°tica Zero a Her√≥i')">YouTube üì∫</button>
        </div>
        <div class="materia-card">
            <h3>Ingl√™s</h3>
            <button onclick="alert('Playlist Youtube: English Course')">YouTube üì∫</button>
        </div>
        </div>

    <div id="win-profile" class="window">
        <div class="win-header"><span>Perfil Oficial</span><button onclick="closeWindow('win-profile')">‚úï</button></div>
        <div style="background: #000; height: 100%; overflow-y: auto; color: white;">
            <div class="x-banner" id="user-banner" onclick="document.getElementById('in-banner').click()"></div>
            <div class="x-pfp-large">
                <span id="pfp-crown" class="crown-max">üëë</span>
                <img id="main-pfp" src="https://via.placeholder.com/100" style="width:100%; height:100%; border-radius:50%;" onclick="document.getElementById('in-pfp').click()">
            </div>
            <div style="padding: 15px;">
                <h2>Criador_Principal <small style="font-size:12px; color:grey;">ID: 22</small></h2>
                <p>Bio: Desenvolvedor do sistema. √önico com ID #22.</p>
                <div id="last-seen">√öltimo visto: Agora mesmo</div>
                <hr>
                <button onclick="buyPremium()" style="width:100%; padding:15px; background:var(--ouro); border-radius:30px; font-weight:bold;">COMPRAR PREMIUM üëë</button>
                <div style="margin-top:20px; display:grid; gap:10px;">
                    <button onclick="toggleWindow('win-calc')">Ativar Calculadora</button>
                    <button onclick="toggleWindow('win-search')">Ativar Pesquisa</button>
                    <button onclick="alert('Cache Limpo! 124MB liberados.')">Limpar Cache</button>
                    <button onclick="openWindow('win-community')">Comunidade</button>
                </div>
            </div>
        </div>
    </div>

    <div id="win-chat" class="window">
        <div class="win-header" style="background: #000;">
            <div onclick="openWindow('win-group-config')">
                <span id="group-title">Grupo de Estudos #27</span><br>
                <span id="typing-status" class="typing"></span>
            </div>
            <button onclick="closeWindow('win-chat')">‚úï</button>
        </div>
        <div class="chat-area" id="chat-box">
            <div class="chat-banner" id="group-banner-chat"></div>
            <div style="text-align: center; margin-bottom: 20px;">
                <img id="chat-group-pfp" src="https://via.placeholder.com/80" style="width:80px; height:80px; border-radius:50%; border:2px solid var(--azul);" onclick="document.getElementById('in-group-pfp').click()">
            </div>
        </div>
        <div style="padding: 10px; background: #000; display: flex; gap: 8px; align-items: center; border-top: 1px solid var(--azul);">
            <button class="btn-round" onclick="document.getElementById('in-chat-img').click()">üñºÔ∏è</button>
            <button class="btn-round" onclick="recordAudio()">üé§</button>
            <input type="text" id="chat-in" placeholder="Mensagem..." oninput="showTyping()" style="flex:1; background:#111; border:1px solid #333; color:white; padding:12px; border-radius:25px;">
            <button onclick="sendMsg()" style="background:none; border:none; font-size:30px;">‚û°Ô∏è</button>
        </div>
    </div>

    <div id="win-calc" class="calc-full">
        <h2>Calculadora Pro</h2>
        <input type="text" id="calc-display" readonly style="width:100%; height:80px; font-size:40px; text-align:right; margin-bottom:20px;">
        <div style="display:grid; grid-template-columns: repeat(4, 1fr); gap:10px;">
            <button onclick="calc(7)" class="btn-round">7</button><button onclick="calc(8)" class="btn-round">8</button><button onclick="calc(9)" class="btn-round">9</button><button onclick="calc('/')" class="btn-round">/</button>
            <button onclick="calc(4)" class="btn-round">4</button><button onclick="calc(5)" class="btn-round">5</button><button onclick="calc(6)" class="btn-round">6</button><button onclick="calc('*')" class="btn-round">*</button>
            <button onclick="calc(1)" class="btn-round">1</button><button onclick="calc(2)" class="btn-round">2</button><button onclick="calc(3)" class="btn-round">3</button><button onclick="calc('-')" class="btn-round">-</button>
            <button onclick="calc(0)" class="btn-round">0</button><button onclick="calc('C')" class="btn-round">C</button><button onclick="evalCalc()" class="btn-round">=</button><button onclick="calc('+')" class="btn-round">+</button>
        </div>
        <button onclick="toggleWindow('win-calc')" style="width:100%; margin-top:20px;">Fechar</button>
    </div>

    <div id="win-search" class="search-glass">
        <input type="text" id="search-q" placeholder="Pesquisar na Internet..." style="width:80%; background:none; border:none; color:white; outline:none; font-size:18px;">
        <button onclick="window.open('https://google.com/search?q='+document.getElementById('search-q').value)" style="background:none; border:none; color:white;">üîç</button>
        <button onclick="toggleWindow('win-search')" style="background:none; border:none; color:white; float:right;">‚úï</button>
    </div>

    <input type="file" id="in-pfp" hidden onchange="updateImg(this, 'main-pfp')">
    <input type="file" id="in-banner" hidden onchange="updateImg(this, 'user-banner', true)">
    <input type="file" id="in-group-pfp" hidden onchange="updateImg(this, 'chat-group-pfp')">
    <input type="file" id="in-chat-img" hidden onchange="sendImg(this)">

    <div id="book-icon" onclick="openWindow('win-chat')" style="position:fixed; bottom:20px; right:20px; font-size:50px;">üìñ</div>

    <script>
        let premium = false;
        let typingTimeout;

        function openWindow(id) { document.getElementById(id).style.display = 'flex'; }
        function closeWindow(id) { document.getElementById(id).style.display = 'none'; }
        function toggleWindow(id) { 
            const el = document.getElementById(id);
            el.style.display = el.style.display === 'flex' || el.style.display === 'block' ? 'none' : 'flex';
        }

        function buyPremium() {
            premium = true;
            document.getElementById('pfp-crown').style.display = 'block';
            alert("üëë Premium Ativado! ID 22 Reconhecido.");
        }

        function updateImg(input, targetId, isBanner = false) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = e => {
                    const el = document.getElementById(targetId);
                    if(isBanner) el.style.backgroundImage = `url(${e.target.result})`;
                    else el.src = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function showTyping() {
            const status = document.getElementById('typing-status');
            status.innerText = "Lucas est√° escrevendo...";
            clearTimeout(typingTimeout);
            typingTimeout = setTimeout(() => status.innerText = "", 2000);
        }

        function recordAudio() {
            const status = document.getElementById('typing-status');
            status.innerText = "Gravando √°udio HD...";
            setTimeout(() => {
                status.innerText = "";
                const box = document.getElementById('chat-box');
                box.innerHTML += `<div class="msg-bubble">üéµ √Åudio de Alta Qualidade (0:05)</div>`;
            }, 3000);
        }

        function sendMsg() {
            const input = document.getElementById('chat-in');
            if(!input.value) return;
            const box = document.getElementById('chat-box');
            const nameClass = premium ? 'fire-name' : '';
            box.innerHTML += `<div class="msg-bubble"><span class="${nameClass}">Criador #27:</span><br>${input.value}</div>`;
            input.value = "";
            box.scrollTop = box.scrollHeight;
        }

        // Sistema de Calculadora
        function calc(v) {
            const d = document.getElementById('calc-display');
            if(v === 'C') d.value = "";
            else d.value += v;
        }
        function evalCalc() {
            const d = document.getElementById('calc-display');
            try { d.value = eval(d.value); } catch { d.value = "Erro"; }
        }

        // Simula√ß√£o de Banimento
        function banUser(nomeGrupo) {
            alert(`Voc√™ foi banido do grupo ${nomeGrupo}`);
            closeWindow('win-chat');
        }
    </script>
</body>
</html>
