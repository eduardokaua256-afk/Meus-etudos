<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estudo Social Ultimate</title>
    <style>
        :root { --preto: #000; --branco: #fff; --azul: #1DA1F2; --ouro: #ffd700; --cinza: #f0f0f0; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--preto); color: var(--branco); margin: 0; padding: 0; }

        /* TELA INICIAL: MAT√âRIAS */
        #home-screen { padding: 20px; }
        .grid-materias { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .materia-btn { background: #1a1a1a; border: 1px solid #333; padding: 20px; border-radius: 15px; color: white; text-align: center; }

        /* JANELAS SISTEMA */
        .win { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--branco); color: #000; z-index: 2000; flex-direction: column; }
        .header-win { background: var(--preto); color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; }

        /* PERFIL X / CONFIGURA√á√ïES */
        .profile-content { flex: 1; overflow-y: auto; background: var(--branco); }
        .banner-x { height: 120px; background: var(--azul); cursor: pointer; position: relative; }
        .pfp-container { position: relative; margin-top: -50px; margin-left: 20px; width: 100px; }
        .pfp-x { width: 100px; height: 100px; border-radius: 50%; border: 4px solid var(--branco); object-fit: cover; }
        .crown-master { position: absolute; top: -35px; left: 10px; font-size: 50px; display: none; filter: drop-shadow(0 0 5px gold); }
        .status-badge { width: 12px; height: 12px; border-radius: 50%; display: inline-block; }

        /* CHAT BRANCO E PRETO */
        .chat-container { flex: 1; display: flex; flex-direction: column; background: #e5e5e5; }
        .chat-messages { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 10px; }
        .msg-row { display: flex; gap: 10px; align-items: flex-end; }
        .msg-pfp { width: 35px; height: 35px; border-radius: 50%; }
        .msg-bubble { background: white; padding: 10px; border-radius: 15px 15px 15px 0; max-width: 70%; box-shadow: 0 1px 2px rgba(0,0,0,0.1); color: black;}
        .msg-name { font-weight: bold; font-size: 12px; margin-bottom: 3px; display: block; }

        /* CONFIGS DO GRUPO (GEST√ÉO) */
        .group-manage { padding: 20px; }
        .config-item { display: flex; justify-content: space-between; padding: 15px 0; border-bottom: 1px solid #ddd; }

        /* WIDGETS */
        #calc-win { background: #000; color: white; }
        .search-win { background: rgba(255,255,255,0.8); backdrop-filter: blur(10px); height: 80px; top: 10px; bottom: auto; border-radius: 40px; margin: 0 10px; border: 1px solid #ddd; }

        /* PREMIUM EFFECTS */
        .fire-name { background: linear-gradient(to top, #ff4500, #ffa500); -webkit-background-clip: text; color: transparent; font-weight: bold; animation: burn 0.5s infinite alternate; }
        @keyframes burn { from { text-shadow: 0 0 5px orange; } to { text-shadow: 0 0 15px red; } }

        /* FOOTER INPUT */
        .chat-footer { background: white; padding: 10px; display: flex; align-items: center; gap: 10px; border-top: 1px solid #ddd; }
        .input-text { flex: 1; border: 1px solid #ddd; padding: 12px; border-radius: 25px; outline: none; }
        .btn-circle { width: 45px; height: 45px; border-radius: 50%; border: none; background: var(--azul); color: white; display: flex; align-items: center; justify-content: center; font-size: 20px; }
    </style>
</head>
<body>

    <div id="home-screen">
        <header style="display: flex; justify-content: space-between; align-items: center;">
            <h2 style="color: var(--azul);">Estudo Social</h2>
            <div onclick="openWin('win-profile')" style="cursor:pointer; font-size: 24px;">‚ãÆ</div>
        </header>
        <div id="status-display">
            <span class="status-badge" style="background: lime;"></span> Online | ID: 22
        </div>
        
        <div class="grid-materias">
            <div class="materia-btn" onclick="openMateria('Matem√°tica')">Matem√°tica üìê</div>
            <div class="materia-btn" onclick="openMateria('Ingl√™s')">Ingl√™s üá∫üá∏</div>
            <div class="materia-btn" onclick="openMateria('Hist√≥ria')">Hist√≥ria üìú</div>
            <div class="materia-btn" onclick="openMateria('Geografia')">Geografia üåç</div>
            <div class="materia-btn" onclick="openMateria('Espanhol')">Espanhol üá™üá∏</div>
            <div class="materia-btn" onclick="openMateria('Reda√ß√£o')">Reda√ß√£o ‚úçÔ∏è</div>
        </div>
    </div>

    <div id="win-profile" class="win">
        <div class="header-win"><span>Configura√ß√µes Pessoais</span><button onclick="closeWin('win-profile')">‚úï</button></div>
        <div class="profile-content">
            <div class="banner-x" id="u-banner" onclick="document.getElementById('in-banner').click()"></div>
            <div class="pfp-container">
                <span id="u-crown" class="crown-master">üëë</span>
                <img id="u-pfp" src="https://via.placeholder.com/100" class="pfp-x" onclick="document.getElementById('in-pfp').click()">
            </div>
            <div style="padding: 15px;">
                <h3>@Dono_do_Site <small>ID: 22</small></h3>
                <div style="color: #666; font-size: 14px; margin-bottom: 10px;">Bio: Criador e Dono do Portal.</div>
                <div id="u-last-seen">√öltimo visto: agora mesmo</div>
                <hr>
                <button onclick="activatePremium()" style="width: 100%; padding: 15px; background: gold; border: none; border-radius: 30px; font-weight: bold; margin-bottom: 15px;">COMPRAR PREMIUM üëë</button>
                
                <div class="config-item"><span>Modo Online</span> <input type="checkbox" checked onchange="toggleStatus(this)"></div>
                <div class="config-item" onclick="toggleWidget('calc-win')"><span>Ativar Calculadora</span> ‚öôÔ∏è</div>
                <div class="config-item" onclick="toggleWidget('search-win')"><span>Ativar Pesquisa</span> üîç</div>
                <div class="config-item" onclick="addPerson()"><span>Adicionar Pessoa por ID</span> üë§</div>
                <div class="config-item" onclick="alert('Limpando Mem√≥ria...')"><span>Limpar Cache/Mem√≥ria</span> üßπ</div>
                <div class="config-item" onclick="alert('Comunidade Carregando...')"><span>Comunidade</span> üë•</div>
            </div>
        </div>
    </div>

    <div id="win-chat" class="win">
        <div class="header-win" style="background: #fff; color: #000; border-bottom: 1px solid #ddd;">
            <div onclick="openWin('win-group-info')" style="cursor:pointer">
                <strong id="g-title">Grupo de Estudos #27</strong><br>
                <small id="g-typing" style="color: var(--azul);"></small>
            </div>
            <button onclick="closeWin('win-chat')">‚úï</button>
        </div>
        <div class="chat-container">
            <div class="chat-messages" id="chat-box">
                </div>
            <div class="chat-footer">
                <button class="btn-circle" onclick="document.getElementById('in-chat-img').click()">üñºÔ∏è</button>
                <button class="btn-circle" onclick="recordAudio()">üé§</button>
                <input type="text" id="chat-in" class="input-text" placeholder="Escreva..." oninput="isTyping()">
                <button onclick="sendMsg()" style="background:none; border:none; font-size:30px; color:var(--azul);">‚û°Ô∏è</button>
            </div>
        </div>
    </div>

    <div id="win-group-info" class="win">
        <div class="header-win"><span>Gest√£o do Grupo</span><button onclick="closeWin('win-group-info')">‚úï</button></div>
        <div class="group-manage">
            <div style="text-align:center;">
                <img id="g-pfp" src="https://via.placeholder.com/100" class="pfp-x" onclick="document.getElementById('in-g-pfp').click()">
                <h3>Configura√ß√µes #27</h3>
                <textarea id="g-desc" placeholder="Descri√ß√£o do grupo..." style="width:100%; border-radius:10px; padding:10px;"></textarea>
            </div>
            <hr>
            <h4>Participantes</h4>
            <div id="member-list">
                <div class="config-item"><span>üëë Voc√™ (Dono #27)</span> <small class="fire-name">ATIVO</small></div>
                <div class="config-item"><span>üë§ Aluno ID: 1045</span> <button onclick="banUser('1045')">Banir</button></div>
            </div>
            <hr>
            <div class="config-item"><span>S√≥ Adm envia msg</span> <input type="checkbox"></div>
            <div class="config-item"><span>Grupo Trancado</span> <input type="checkbox" id="g-lock"></div>
            <div class="config-item"><span>Hor√°rio de Funcionamento</span> 
                <div style="font-size:10px">
                    Abre: <input type="time" value="08:00"> 
                    Fecha: <input type="time" value="22:00">
                </div>
            </div>
            <button onclick="alert('Grupo Apagado!')" style="color:red; width:100%; margin-top:20px; background:none; border:1px solid red; padding:10px; border-radius:10px;">APAGAR GRUPO</button>
        </div>
    </div>

    <div id="calc-win" class="win" style="background:#000;">
        <div class="header-win"><span>Calculadora Black</span><button onclick="toggleWidget('calc-win')">‚úï</button></div>
        <div style="padding:20px; flex:1;">
            <input type="text" id="calc-res" readonly style="width:100%; height:100px; background:#111; color:white; font-size:40px; text-align:right; border:none; padding:10px;">
            <div style="display:grid; grid-template-columns: repeat(4, 1fr); gap:10px; margin-top:20px;">
                <button class="btn-circle" style="background:#333" onclick="calc('7')">7</button>
                <button class="btn-circle" style="background:#333" onclick="calc('8')">8</button>
                <button class="btn-circle" style="background:#333" onclick="calc('9')">9</button>
                <button class="btn-circle" style="background:orange" onclick="calc('/')">/</button>
                <button class="btn-circle" style="background:#333" onclick="calc('C')">C</button>
                <button class="btn-circle" style="background:orange" onclick="evalC()">=</button>
            </div>
        </div>
    </div>

    <div id="search-win" class="win search-win">
        <div style="display:flex; padding:15px; align-items:center;">
            <input type="text" id="s-q" placeholder="Pesquisar estudos..." style="flex:1; background:none; border:none; outline:none; font-size:18px;">
            <button onclick="window.open('https://google.com/search?q='+document.getElementById('s-q').value)" style="background:none; border:none; font-size:20px;">üîç</button>
            <button onclick="toggleWidget('search-win')" style="background:none; border:none; margin-left:10px;">‚úï</button>
        </div>
    </div>

    <input type="file" id="in-pfp" hidden onchange="readImg(this, 'u-pfp')">
    <input type="file" id="in-banner" hidden onchange="readBanner(this, 'u-banner')">
    <input type="file" id="in-g-pfp" hidden onchange="readImg(this, 'g-pfp')">
    <input type="file" id="in-chat-img" hidden onchange="sendImg(this)">

    <div id="book-icon" onclick="openWin('win-chat')" style="position:fixed; bottom:20px; right:20px; font-size:50px; z-index:1000;">üìñ</div>

    <script>
        let isPremium = false;
        let typingTimer;

        function openWin(id) { document.getElementById(id).style.display = 'flex'; }
        function closeWin(id) { document.getElementById(id).style.display = 'none'; }
        function toggleWidget(id) { 
            let w = document.getElementById(id);
            w.style.display = (w.style.display == 'flex' || w.style.display == 'block') ? 'none' : 'flex';
        }

        function activatePremium() {
            isPremium = true;
            document.getElementById('u-crown').style.display = 'block';
            document.getElementById('u-crown').style.fontSize = '60px'; // Coroa Maior
            alert("üëë Premium Ativado! ID 22 reconhecido.");
        }

        function readImg(input, id) {
            if (input.files && input.files[0]) {
                let r = new FileReader();
                r.onload = e => document.getElementById(id).src = e.target.result;
                r.readAsDataURL(input.files[0]);
            }
        }

        function readBanner(input, id) {
            if (input.files && input.files[0]) {
                let r = new FileReader();
                r.onload = e => document.getElementById(id).style.backgroundImage = `url(${e.target.result})`;
                r.readAsDataURL(input.files[0]);
            }
        }

        function isTyping() {
            let s = document.getElementById('g-typing');
            s.innerText = "Lucas est√° escrevendo...";
            clearTimeout(typingTimer);
            typingTimer = setTimeout(() => s.innerText = "", 2000);
        }

        function sendMsg() {
            let input = document.getElementById('chat-in');
            if(!input.value) return;
            if(document.getElementById('g-lock').checked) return alert("Grupo Trancado!");
            
            let box = document.getElementById('chat-box');
            let nameStyle = isPremium ? 'fire-name' : '';
            let pfp = document.getElementById('u-pfp').src;

            box.innerHTML += `
                <div class="msg-row">
                    <img src="${pfp}" class="msg-pfp">
                    <div class="msg-bubble">
                        <span class="msg-name ${nameStyle}">Dono #27</span>
                        ${input.value}
                    </div>
                </div>`;
            input.value = "";
            box.scrollTop = box.scrollHeight;
        }

        function recordAudio() {
            document.getElementById('g-typing').innerText = "Gravando √°udio HD...";
            setTimeout(() => {
                document.getElementById('g-typing').innerText = "";
                document.getElementById('chat-box').innerHTML += `<div class="msg-row"><div class="msg-bubble">üéµ √Åudio HD Enviado</div></div>`;
            }, 3000);
        }

        function banUser(id) {
            alert(`Voc√™ baniu o usu√°rio ${id}. Ele n√£o pode mais voltar!`);
            // Simula√ß√£o de remo√ß√£o
            event.target.parentElement.remove();
        }

        function openMateria(nome) {
            alert(`Abrindo Mat√©ria: ${nome}\nPlaylist YouTube Gratuita dispon√≠vel em: [Link Externo]`);
        }

        function calc(v) { 
            let d = document.getElementById('calc-res');
            if(v == 'C') d.value = ""; else d.value += v;
        }
        function evalC() { 
            try { document.getElementById('calc-res').value = eval(document.getElementById('calc-res').value); } catch { document.getElementById('calc-res').value = "Erro"; }
        }

        function toggleStatus(cb) {
            let dot = document.querySelector('.status-badge');
            dot.style.background = cb.checked ? 'lime' : 'red';
        }

        function addPerson() {
            let id = prompt("Digite o ID ou Nome:");
            if(id) alert(`Usu√°rio ${id} adicionado √† sua lista.`);
        }
    </script>
</body>
</html>
