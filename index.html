<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estudos Social Max</title>
    <style>
        :root { --preto: #000000; --branco: #ffffff; --azul: #1DA1F2; --ouro: #ffd700; --cinza: #16181c; --dono: #ff4757; --adm: #00ffcc; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--preto); color: var(--branco); margin: 0; padding: 10px; overflow-x: hidden; }
        
        /* Cabe√ßalho */
        header { display: flex; justify-content: space-between; align-items: center; padding: 15px; border-bottom: 1px solid #333; }
        
        /* Janelas Flutuantes */
        .window { 
            display: none; position: fixed; top: 10%; left: 5%; right: 5%; bottom: 10%; 
            background: var(--branco); color: #000; border-radius: 20px; flex-direction: column; 
            z-index: 2000; box-shadow: 0 0 30px rgba(255,255,255,0.2); overflow: hidden;
        }
        .win-header { background: var(--cinza); color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; }
        
        /* Perfil Estilo X */
        .x-profile { background: var(--preto); color: white; height: 100%; overflow-y: auto; }
        .x-banner { height: 100px; background: var(--azul); }
        .x-pfp-container { position: relative; margin-top: -50px; padding-left: 20px; }
        .x-pfp { width: 80px; height: 80px; border-radius: 50%; border: 4px solid var(--preto); object-fit: cover; }
        .crown-icon { position: absolute; top: -15px; left: 45px; font-size: 25px; display: none; }
        .x-info { padding: 15px; }
        .x-bio { color: #71767b; margin: 10px 0; }

        /* Chat Estilo WhatsApp */
        .chat-area { flex: 1; overflow-y: auto; background: #e5ddd5; padding: 10px; }
        .msg { display: flex; align-items: center; margin-bottom: 10px; gap: 8px; }
        .msg-pfp { width: 30px; height: 30px; border-radius: 50%; }
        .msg-bubble { background: white; padding: 8px 12px; border-radius: 15px; max-width: 70%; position: relative; }
        
        /* Badges e Efeitos */
        .badge-dono { color: var(--dono); font-weight: bold; text-shadow: 0 0 8px var(--dono); }
        .badge-adm { color: var(--azul); font-weight: bold; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        .anim-dino { display: inline-block; animation: jump 0.5s infinite alternate; }
        @keyframes jump { from { transform: translateY(0); } to { transform: translateY(-10px); } }

        /* Widgets Flutuantes */
        .widget { position: fixed; width: 150px; background: var(--cinza); border: 1px solid var(--azul); border-radius: 10px; padding: 10px; z-index: 3000; display: none; cursor: move; }
        
        /* Bot√£o Redondo */
        .btn-round { width: 50px; height: 50px; border-radius: 50%; background: var(--azul); border: none; color: white; font-size: 24px; }
    </style>
</head>
<body>

    <header>
        <span style="font-weight:bold; font-size:20px;">Estudos Social</span>
        <div onclick="openWindow('win-profile')" style="cursor:pointer">‚ãÆ</div>
    </header>

    <div id="book-icon" onclick="openWindow('win-chat')" style="position:fixed; bottom:20px; right:20px; font-size:50px; z-index:1000;">üìñ</div>

    <div id="win-profile" class="window">
        <div class="win-header">
            <span>Perfil</span>
            <button onclick="closeWindow('win-profile')">‚úï</button>
        </div>
        <div class="x-profile">
            <div class="x-banner"></div>
            <div class="x-pfp-container">
                <span id="pfp-crown" class="crown-icon">üëë</span>
                <img id="main-pfp" class="x-pfp" src="https://via.placeholder.com/100" onclick="document.getElementById('input-file-pfp').click()">
            </div>
            <div class="x-info">
                <h3>@Estudante_Pro</h3>
                <div class="x-bio">Bio: Focado nos estudos e na programa√ß√£o via celular. üöÄ</div>
                <small>Visto por √∫ltimo: Hoje √†s 08:30</small>
                <hr style="border-color:#333">
                <button onclick="buyPremium()" style="background:var(--ouro); color:black; border:none; padding:10px; width:100%; border-radius:20px; font-weight:bold">Comprar Premium üëë</button>
                <div style="margin-top:20px">
                    <label><input type="checkbox"> Esconder Modo Online</label><br><br>
                    <button onclick="toggleWidget('widget-calc')">Ativar Calculadora</button>
                    <button onclick="toggleWidget('widget-search')">Ativar Pesquisa</button>
                </div>
            </div>
        </div>
    </div>

    <div id="win-chat" class="window">
        <div class="win-header" style="background:#075e54">
            <div onclick="openWindow('win-group-info')" style="cursor:pointer">
                <strong id="group-name-display">Grupo de Estudos ‚öôÔ∏è</strong><br>
                <small>Clique para info do grupo</small>
            </div>
            <button onclick="closeWindow('win-chat')">‚úï</button>
        </div>
        <div class="chat-area" id="chat-box">
            <div class="msg">
                <img src="https://via.placeholder.com/30" class="msg-pfp">
                <div class="msg-bubble">
                    <small class="badge-dono">CRIADOR</small><br>
                    Bem-vindos! Use o modo Premium para ver o <span class="anim-dino">ü¶ñ</span>
                </div>
            </div>
        </div>
        <div style="padding:10px; display:flex; gap:10px; background:#f0f0f0">
            <button class="btn-round" onclick="document.getElementById('chat-img').click()">üñºÔ∏è</button>
            <input type="text" id="chat-input" placeholder="Mensagem..." style="flex:1; border-radius:20px; border:1px solid #ddd; padding:10px;">
            <button onclick="sendMsg()" style="border:none; background:none; font-size:30px;">‚û°Ô∏è</button>
        </div>
    </div>

    <div id="win-group-info" class="window">
        <div class="win-header">
            <span>Membros & Gest√£o</span>
            <button onclick="closeWindow('win-group-info')">‚úï</button>
        </div>
        <div style="padding:20px;">
            <div style="text-align:center">
                <img src="https://via.placeholder.com/80" class="x-pfp" id="group-pfp">
                <h4>Configura√ß√µes do Grupo</h4>
                <button onclick="document.getElementById('group-img-input').click()">Mudar Foto ‚öôÔ∏è</button>
            </div>
            <hr>
            <div id="member-list">
                <div style="display:flex; justify-content:space-between; margin-bottom:10px">
                    <span>üëë <b class="badge-dono">Voc√™ (Criador)</b></span>
                </div>
                <div style="display:flex; justify-content:space-between; margin-bottom:10px">
                    <span>üë§ Jo√£o Aluno</span>
                    <button onclick="makeAdm()">Dar ADM</button>
                </div>
            </div>
            <hr>
            <button style="color:red" onclick="confirm('Apagar grupo?')">Apagar Grupo</button>
            <button onclick="alert('Grupo Trancado!')">Trancar Grupo</button>
        </div>
    </div>

    <div id="widget-calc" class="widget" style="top:50px; left:20px;">
        <small>Calculadora</small>
        <input type="number" id="n1" style="width:40px"> + <input type="number" id="n2" style="width:40px">
        <button onclick="alert(Number(document.getElementById('n1').value)+Number(document.getElementById('n2').value))">=</button>
    </div>

    <div id="widget-search" class="widget" style="top:150px; left:20px;">
        <small>Pesquisa Google</small>
        <input type="text" id="q" style="width:80%">
        <button onclick="window.open('https://google.com/search?q='+document.getElementById('q').value)">üîç</button>
    </div>

    <input type="file" id="input-file-pfp" hidden onchange="updateImage(this, 'main-pfp')">
    <input type="file" id="chat-img" hidden onchange="sendPhoto(this)">
    <input type="file" id="group-img-input" hidden onchange="updateImage(this, 'group-pfp')">

    <script>
        let isPremium = false;

        function openWindow(id) { document.getElementById(id).style.display = 'flex'; }
        function closeWindow(id) { document.getElementById(id).style.display = 'none'; }
        
        function toggleWidget(id) {
            const w = document.getElementById(id);
            w.style.display = w.style.display === 'block' ? 'none' : 'block';
        }

        function buyPremium() {
            isPremium = true;
            document.getElementById('pfp-crown').style.display = 'block';
            alert("üëë Premium Ativado! Coroa liberada e Efeitos Especiais ativos!");
        }

        function updateImage(input, targetId) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = e => document.getElementById(targetId).src = e.target.result;
                reader.readAsDataURL(input.files[0]);
            }
        }

        function sendMsg() {
            const val = document.getElementById('chat-input').value;
            if(!val) return;
            const chat = document.getElementById('chat-box');
            const pfp = document.getElementById('main-pfp').src;
            const effect = isPremium ? 'anim-dino' : '';
            const role = isPremium ? '<small class="badge-dono">DONO</small>' : '<small>Membro</small>';
            
            chat.innerHTML += `
                <div class="msg">
                    <img src="${pfp}" class="msg-pfp">
                    <div class="msg-bubble">
                        ${role}<br>
                        <span class="${effect}">${val}</span>
                    </div>
                </div>`;
            document.getElementById('chat-input').value = "";
            chat.scrollTop = chat.scrollHeight;
        }

        function sendPhoto(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = e => {
                    const chat = document.getElementById('chat-box');
                    chat.innerHTML += `<div class="msg"><img src="${e.target.result}" style="max-width:150px; border-radius:10px"></div>`;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function makeAdm() {
            const list = document.getElementById('member-list');
            list.innerHTML += `<div style="margin-top:10px">‚ö° <b class="badge-adm">Novo ADM (Pulsante)</b></div>`;
        }

        // Permitir arrastar Widgets
        document.querySelectorAll('.widget').forEach(w => {
            w.addEventListener('touchmove', e => {
                let t = e.targetTouches[0];
                w.style.left = t.pageX - 75 + 'px';
                w.style.top = t.pageY - 25 + 'px';
            });
        });
    </script>
</body>
</html>
